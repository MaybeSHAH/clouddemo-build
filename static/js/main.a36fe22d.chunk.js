/*! For license information please see main.a36fe22d.chunk.js.LICENSE.txt */
(this["webpackJsonpgreen-air"]=this["webpackJsonpgreen-air"]||[]).push([[0],{105:function(e,t){},110:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/man-proc.16d9fdd6.jpg"},133:function(e,t,a){},135:function(e,t,a){},159:function(e,t){},161:function(e,t){},191:function(e,t){},193:function(e,t){},218:function(e,t){},252:function(e,t,a){},253:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),c=a(35),r=a.n(c),o=a(42),i=a(43),l=a(46),j=a(45),d=(a(133),a(134),a(135),a(17)),b=a(12),u=a(16),h=a(49),m=a(7),O=a(15),f=a.n(O),x=a(29),p=a(256),g=a(64),v=a.n(g),y=a(23),S=a.n(y),N=a(66),w=a.n(N),k=a(255),D=a(257),C=a(258),M=a(259),T=a(277),L=a(278),A=a(260),Y=a(279),E=a(261),P=function(){var e=sessionStorage.getItem("user");return e?JSON.parse(e):null},F=function(){return sessionStorage.getItem("token")||null},I=function(e,t,a){sessionStorage.setItem("token",e),sessionStorage.setItem("user",JSON.stringify(t)),sessionStorage.setItem("email",JSON.stringify(a))},H=function(){sessionStorage.removeItem("token"),sessionStorage.removeItem("user"),sessionStorage.removeItem("email")},z=a(1),W=function(e){var t=P();return Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(k.a,{className:"navbar-top",expand:"md",id:"navbar-main",style:{backgroundColor:"#368BC1"},children:Object(z.jsxs)(p.a,{fluid:!0,children:[Object(z.jsx)(d.b,{className:"h4 mb-0 text-uppercase d-none d-lg-inline-block",to:"/",style:{color:"white"},children:e.brandText}),Object(z.jsx)(D.a,{className:"navbar-search navbar-search-dark form-inline mr-3 d-none d-md-flex ml-lg-auto",children:Object(z.jsx)(C.a,{className:"mb-0"})}),Object(z.jsx)(M.a,{className:"align-items-center d-none d-md-flex",navbar:!0,children:Object(z.jsxs)(T.a,{nav:!0,children:[Object(z.jsx)(L.a,{className:"pr-0",nav:!0,children:Object(z.jsxs)(A.a,{className:"align-items-center",children:[Object(z.jsx)("span",{className:"avatar avatar-sm rounded-circle",children:Object(z.jsx)("img",{alt:"...",src:a(110).default})}),Object(z.jsx)(A.a,{className:"ml-2 d-none d-lg-block",children:Object(z.jsx)("span",{className:"mb-0 text-sm font-weight-bold",style:{color:"white"},children:t&&t.name})})]})}),Object(z.jsxs)(Y.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(z.jsx)(E.a,{className:"noti-title",header:!0,tag:"div",children:Object(z.jsx)("h6",{className:"text-overflow m-0",children:"Welcome!"})}),Object(z.jsxs)(E.a,{onClick:function(){H(),e.history.push("/auth")},children:[Object(z.jsx)("i",{className:"ni ni-user-run"}),Object(z.jsx)("span",{children:"Logout"})]})]})]})})]})})})},_=a(262),q=a(263),R=a(264),B=a(265),J=function(){return Object(z.jsx)("footer",{className:"footer",children:Object(z.jsxs)(_.a,{className:"align-items-center justify-content-xl-between",children:[Object(z.jsx)(q.a,{xl:"6",children:Object(z.jsxs)("div",{className:"copyright text-center text-xl-left text-muted",children:["\xa9 ",(new Date).getFullYear()," ",Object(z.jsx)("a",{className:"font-weight-bold ml-1",href:"https://www.sasnextgen.co.in",rel:"noopener noreferrer",target:"_blank",children:"SAS Automation Pvt. Ltd."})]})}),Object(z.jsx)(q.a,{xl:"6",children:Object(z.jsxs)(M.a,{className:"nav-footer justify-content-center justify-content-xl-end",children:[Object(z.jsx)(R.a,{children:Object(z.jsx)(B.a,{href:"https://www.sasnextgen.co.in",rel:"noopener noreferrer",target:"_blank",children:"SAS Automation Pvt. Ltd."})}),Object(z.jsx)(R.a,{children:Object(z.jsx)(B.a,{href:"https://www.sasnextgen.co.in",rel:"noopener noreferrer",target:"_blank",children:"About Us"})})]})})]})})},U=a(266),V=a(267),Q=function(e){P(),function(){var e=sessionStorage.getItem("email");e&&JSON.parse(e)}();var t,s=Object(n.useState)(),c=Object(m.a)(s,2),r=c[0],o=c[1],i=function(){o((function(e){return!e}))},l=function(){o(!1)},j=(e.bgColor,e.routes),b=e.logo;return b&&b.innerLink?t={to:b.innerLink,tag:d.b}:b&&b.outterLink&&(t={href:b.outterLink,target:"_blank"}),Object(z.jsx)(k.a,{className:"navbar-vertical fixed-left navbar-light",expand:"md",id:"sidenav-main",style:{backgroundColor:"#2471A3"},children:Object(z.jsxs)(p.a,{fluid:!0,children:[Object(z.jsx)("button",{className:"navbar-toggler",type:"button",onClick:i,children:Object(z.jsx)("span",{className:"navbar-toggler-icon"})}),b?Object(z.jsx)(U.a,Object(u.a)({className:"pt-0 text-dark"},t)):null,Object(z.jsx)(M.a,{className:"align-items-center d-md-none",children:Object(z.jsxs)(T.a,{nav:!0,children:[Object(z.jsx)(L.a,{nav:!0,children:Object(z.jsx)(A.a,{className:"align-items-center",children:Object(z.jsx)("span",{className:"avatar avatar-sm rounded-circle",children:Object(z.jsx)("img",{alt:"...",src:a(110).default})})})}),Object(z.jsxs)(Y.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(z.jsx)(E.a,{className:"noti-title",header:!0,tag:"div",children:Object(z.jsx)("h6",{className:"text-overflow m-0",children:"Welcome!"})}),Object(z.jsxs)(E.a,{onClick:function(){H(),e.history.push("/auth")},children:[Object(z.jsx)("i",{className:"ni ni-user-run"}),Object(z.jsx)("span",{children:"Logout"})]})]})]})}),Object(z.jsxs)(V.a,{navbar:!0,isOpen:r,children:[Object(z.jsx)("div",{className:"navbar-collapse-header d-md-none",children:Object(z.jsxs)(_.a,{children:[b?Object(z.jsx)(q.a,{className:"collapse-brand",xs:"6",children:b.innerLink?Object(z.jsx)(d.b,{to:b.innerLink,children:Object(z.jsx)("img",{alt:b.imgAlt,src:b.imgSrc})}):Object(z.jsx)("a",{href:b.outterLink,children:Object(z.jsx)("img",{alt:b.imgAlt,src:b.imgSrc})})}):null,Object(z.jsx)(q.a,{className:"collapse-close",xs:"6",children:Object(z.jsxs)("button",{className:"navbar-toggler",type:"button",onClick:i,children:[Object(z.jsx)("span",{}),Object(z.jsx)("span",{})]})})]})}),Object(z.jsx)(M.a,{navbar:!0,children:function(e){return e.map((function(e,t){return"/admin"===e.layout?Object(z.jsx)(R.a,{style:{backgroundColor:"#f1f3ffff",marginBottom:"5px"},children:Object(z.jsxs)(B.a,{to:e.layout+e.path,tag:d.c,onClick:l,activeClassName:"active",style:{fontWeight:"bold",color:"black"},activeStyle:{fontWeight:"bolder",color:"blue"},children:[Object(z.jsx)("i",{className:e.icon}),e.name]})},t):null}))}(j)}),Object(z.jsx)("hr",{className:"my-3"})]})]})})};Q.defaultProps={routes:[{}]};var Z=Q,G=a(268),K=a(269),X=a(270),$=a(271),ee=a(128),te=a(272),ae=a(125),ne=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password:"",error:null,isLoading:!1},e.handleLogin=function(){e.props.history.push("/admin/index")},e.handleSubmit=function(t){t.preventDefault(),e.setState({isLoading:!0,error:null});var a={username:e.email,password:e.password};f.a.post("users/signin",a).then((function(t){e.setState({isLoading:!1}),I(t.data.user.token,t.data.user,a.username),e.props.history.push("/admin/index")})).catch((function(t){e.setState({isLoading:!1}),e.setState({error:"Please check your internet connection!"})}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)(q.a,{lg:"5",md:"7",children:[Object(z.jsx)(G.a,{className:"bg-secondary shadow border-0",children:Object(z.jsxs)(K.a,{className:"px-lg-5 py-lg-5",children:[Object(z.jsx)("div",{className:"text-center mb-4",style:{color:"red"},children:Object(z.jsx)("span",{className:"error",children:this.state.error})}),Object(z.jsx)("div",{className:"text-center text-muted mb-4",children:Object(z.jsx)("small",{children:"sign in with credentials"})}),Object(z.jsxs)(D.a,{role:"form",onSubmit:this.handleSubmit.bind(this),children:[Object(z.jsx)(C.a,{className:"mb-3",children:Object(z.jsxs)(X.a,{className:"input-group-alternative",children:[Object(z.jsx)($.a,{addonType:"prepend",children:Object(z.jsx)(ee.a,{children:Object(z.jsx)("i",{className:"ni ni-email-83"})})}),Object(z.jsx)(te.a,{placeholder:"Email",type:"email",autoComplete:"new-email",onChange:function(t){return e.email=t.target.value}})]})}),Object(z.jsx)(C.a,{children:Object(z.jsxs)(X.a,{className:"input-group-alternative",children:[Object(z.jsx)($.a,{addonType:"prepend",children:Object(z.jsx)(ee.a,{children:Object(z.jsx)("i",{className:"ni ni-lock-circle-open"})})}),Object(z.jsx)(te.a,{placeholder:"Password",type:"password",autoComplete:"new-password",onChange:function(t){return e.password=t.target.value}})]})}),Object(z.jsx)("div",{className:"text-center",children:Object(z.jsxs)(ae.a,{className:"my-4",color:"primary",type:"submit",disabled:this.state.isLoading,children:[this.state.isLoading&&"Signing...",!this.state.isLoading&&"Sing In"]})})]})]})}),Object(z.jsxs)(_.a,{className:"mt-3",children:[Object(z.jsx)(q.a,{xs:"6"}),Object(z.jsx)(q.a,{className:"text-right",xs:"6"})]})]})})}}]),a}(s.a.Component),se=(a(250),a(273),a(251),a(274)),ce=a(275),re=a(276),oe=[{path:"/overview",name:"OVERVIEW",icon:"ni ni-planet text-orange",component:function(e){var t=e.mqttConnect,a=e.connectStatus,s=e.sensData1,c=(e.sensData2,e.sensData3,e.sensData4,e.sensData5,e.sensData6,e.sensData7,e.sensData8,e.sensData9,e.sensData10,e.sensData11,e.sensData12,{host:"89.47.165.123",clientId:"mqttjs_ + ".concat(Math.random().toString(16).substr(2,8)),port:9001,username:"sasautomation",password:"sasautomation"}),r="ws://".concat(c.host,":").concat(c.port),o={keepalive:0,protocolId:"MQTT",protocolVersion:4,clean:!0,reconnectPeriod:0,connectTimeout:3e4,will:{topic:"WillMsg",payload:"Connection Closed abnormally..!",qos:0,retain:!1},rejectUnauthorized:!1};o.clientId=c.clientId,o.username=c.username,o.password=c.password;var i=function(e){var t;return console.log(e),void 0!=e&&(t=(t=e.split(":"))[1].replaceAll('"',"")),t};Object(n.useEffect)((function(){t(r,o)}),[]);var l={backgroundColor:"#5CB3FF",color:"#ffffff"},j={backgroundColor:"#f1f3ffff"};return Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("div",{className:"header pb-8 pt-5 pt-md-8",style:{paddingtop:"2rem"},children:Object(z.jsx)(p.a,{className:"mt-7",children:Object(z.jsx)(_.a,{children:Object(z.jsx)("div",{className:"col",children:Object(z.jsxs)(G.a,{className:"shadow",children:[Object(z.jsx)(se.a,{className:"border-0",children:Object(z.jsxs)("div",{className:"row",children:[Object(z.jsx)("h3",{className:"mb-0 ml-5",children:"Online Data Monitoring"}),Object(z.jsx)(M.a,{className:"ml-5 justify-content-end",pills:!0,children:Object(z.jsx)(R.a,{children:Object(z.jsxs)(B.a,{children:[Object(z.jsxs)("span",{className:"d-none d-md-block",style:{color:"black",fontWeight:"bolder"},children:["STATUS: ",a?"\ud83d\udfe2":"\ud83d\udd34"]}),Object(z.jsxs)("span",{className:"d-md-none",style:{color:"black",fontWeight:"bolder"},children:["STATUS: ",a?"\ud83d\udfe2":"\ud83d\udd34"]})]})})})]})}),Object(z.jsxs)(ce.a,{children:[Object(z.jsxs)("thead",{children:[Object(z.jsxs)("tr",{children:[Object(z.jsx)("th",{style:l,children:Object(z.jsx)("h4",{children:"#"})}),Object(z.jsx)("th",{style:l,children:Object(z.jsx)("h4",{children:"PM 2.5"})}),Object(z.jsx)("th",{style:l,children:Object(z.jsx)("h4",{children:"PM 10"})}),Object(z.jsx)("th",{style:l,children:Object(z.jsx)("h4",{children:"Temperature"})}),Object(z.jsx)("th",{style:l,children:Object(z.jsx)("h4",{children:"Humidity"})}),Object(z.jsx)("th",{style:l,children:Object(z.jsx)("h4",{children:"Pressure"})})]}),Object(z.jsxs)("tr",{children:[Object(z.jsx)("th",{style:j,children:Object(z.jsx)("h5",{children:"UNITS"})}),Object(z.jsxs)("td",{style:j,children:["\xb5g/m",Object(z.jsx)("sup",{children:"3"})]}),Object(z.jsxs)("td",{style:j,children:["\xb5g/m",Object(z.jsx)("sup",{children:"3"})]}),Object(z.jsx)("td",{style:j,children:"celcius"}),Object(z.jsx)("td",{style:j,children:"percentage"}),Object(z.jsx)("td",{style:j,children:"millibar"})]})]}),Object(z.jsxs)("tbody",{children:[Object(z.jsxs)("tr",{children:[Object(z.jsx)("th",{style:l,scope:"row",children:"PARAMETER"}),Object(z.jsx)("td",{style:j,children:Object(z.jsx)("h5",{children:i(s[1])})}),Object(z.jsx)("td",{style:j,children:Object(z.jsx)("h5",{children:i(s[2])})}),Object(z.jsx)("td",{style:j,children:Object(z.jsx)("h5",{children:i(s[4])})}),Object(z.jsx)("td",{style:j,children:Object(z.jsx)("h5",{children:i(s[5])})}),Object(z.jsx)("td",{style:j,children:Object(z.jsx)("h5",{children:i(s[6])})})]}),Object(z.jsxs)("tr",{children:[Object(z.jsx)("th",{scope:"row",children:"PARAMETER"}),Object(z.jsx)("td",{style:j,children:Object(z.jsx)("h5",{children:i(s[7])})}),Object(z.jsx)("td",{style:j,children:Object(z.jsx)("h5",{children:i(s[15])})}),Object(z.jsx)("td",{style:j,children:Object(z.jsx)("h5",{children:i(s[9])})}),Object(z.jsx)("td",{style:j,children:Object(z.jsx)("h5",{children:i(s[10])})}),Object(z.jsx)("td",{style:j,children:Object(z.jsx)("h5",{children:i(s[11])})})]})]})]}),Object(z.jsx)(re.a,{className:"py-4"})]})})})})})})},layout:"/admin"},{path:"/login",name:"Login",icon:"ni ni-key-25 text-info",component:ne,layout:"/auth"}],ie=a(71),le={100:"#f6f9fc",200:"#e9ecef",300:"#dee2e6",400:"#ced4da",500:"#adb5bd",600:"#8898aa",700:"#525f7f",800:"#32325d",900:"#212529"},je=function(e){var t=Object(n.useState)([new Date((new Date).setDate((new Date).getDate()-1)),new Date]),c=Object(m.a)(t,2),r=c[0],o=c[1],i=s.a.useRef(null),l=Object(b.g)(),j=Object(n.useState)(1),d=Object(m.a)(j,2),O=d[0],g=d[1],y=Object(n.useState)(1),N=Object(m.a)(y,2),k=N[0],D=N[1],C=Object(n.useState)(null),M=Object(m.a)(C,2),T=M[0],L=M[1],A=Object(n.useState)("Connect"),Y=Object(m.a)(A,2),E=Y[0],I=Y[1],_=Object(n.useState)(!1),q=Object(m.a)(_,2),R=(q[0],q[1]),B=Object(n.useState)({}),U=Object(m.a)(B,2),V=U[0],Q=U[1],G=Object(n.useState)([]),K=Object(m.a)(G,2),X=K[0],$=K[1],ee=Object(n.useState)([]),te=Object(m.a)(ee,2),ae=te[0],ne=te[1],se=Object(n.useState)([]),ce=Object(m.a)(se,2),re=ce[0],je=ce[1],de=Object(n.useState)([]),be=Object(m.a)(de,2),ue=be[0],he=be[1],me=Object(n.useState)([]),Oe=Object(m.a)(me,2),fe=Oe[0],xe=Oe[1],pe=Object(n.useState)([]),ge=Object(m.a)(pe,2),ve=ge[0],ye=ge[1],Se=Object(n.useState)([]),Ne=Object(m.a)(Se,2),we=Ne[0],ke=Ne[1],De=Object(n.useState)([]),Ce=Object(m.a)(De,2),Me=Ce[0],Te=Ce[1],Le=Object(n.useState)([]),Ae=Object(m.a)(Le,2),Ye=Ae[0],Ee=Ae[1],Pe=Object(n.useState)([]),Fe=Object(m.a)(Pe,2),Ie=Fe[0],He=Fe[1],ze=Object(n.useState)([]),We=Object(m.a)(ze,2),_e=We[0],qe=We[1],Re=Object(n.useState)([]),Be=Object(m.a)(Re,2),Je=Be[0],Ue=Be[1],Ve=Object(n.useState)(0),Qe=Object(m.a)(Ve,2),Ze=Qe[0],Ge=Qe[1],Ke=Object(n.useState)(0),Xe=Object(m.a)(Ke,2),$e=(Xe[0],Xe[1]),et=Object(n.useState)(0),tt=Object(m.a)(et,2),at=tt[0],nt=tt[1],st=Object(n.useState)(1),ct=Object(m.a)(st,2),rt=ct[0],ot=ct[1],it=Object(n.useState)("data1"),lt=Object(m.a)(it,2),jt=lt[0],dt=lt[1],bt=Object(n.useState)([]),ut=Object(m.a)(bt,2),ht=ut[0],mt=ut[1],Ot=Object(n.useState)([]),ft=Object(m.a)(Ot,2),xt=ft[0],pt=ft[1],gt=Object(n.useState)([]),vt=Object(m.a)(gt,2),yt=vt[0],St=(vt[1],Object(n.useState)(0)),Nt=Object(m.a)(St,2),wt=Nt[0],kt=Nt[1],Dt=Object(n.useState)(0),Ct=Object(m.a)(Dt,2),Mt=Ct[0],Tt=Ct[1],Lt=Object(n.useState)(0),At=Object(m.a)(Lt,2),Yt=At[0],Et=At[1],Pt=Object(n.useState)(0),Ft=Object(m.a)(Pt,2),It=Ft[0],Ht=Ft[1],zt=Object(n.useState)(!0),Wt=Object(m.a)(zt,2),_t=(Wt[0],Wt[1]),qt=Object(n.useState)(null),Rt=Object(m.a)(qt,2),Bt=(Rt[0],Rt[1]),Jt=Object(n.useState)([]),Ut=Object(m.a)(Jt,2),Vt=Ut[0],Qt=Ut[1],Zt=Object(n.useState)([]),Gt=Object(m.a)(Zt,2),Kt=Gt[0],Xt=Gt[1],$t=Object(n.useState)([]),ea=Object(m.a)($t,2),ta=ea[0],aa=ea[1],na=Object(n.useState)(!1),sa=Object(m.a)(na,2),ca=sa[0],ra=sa[1],oa=Object(n.useState)([{name:"PM 2.5",data:[]}]),ia=Object(m.a)(oa,2),la=ia[0],ja=ia[1],da=Object(n.useState)([{name:"PM 10",data:[]}]),ba=Object(m.a)(da,2),ua=ba[0],ha=ba[1],ma=Object(n.useState)({}),Oa=Object(m.a)(ma,2),fa=Oa[0],xa=Oa[1],pa=function(e,t){T&&T.connected||(I("Connecting"),L(w.a.connect(e,t)))},ga=function(e){if(T){var t=e.topic;T.unsubscribe(t,(function(e){e?console.log("Unsubscribe error",e):(console.log(t+" Unubscribed !"),R(!1))}))}},va=function(){T&&T.end((function(){I("Connect")}))},ya={options:{scales:{yAxes:[{gridLines:{color:le[900],zeroLineColor:le[900]},ticks:{value:r}}]},tooltips:{callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label||"",n=e.yLabel,s="";return t.datasets.length>1&&(s+=a),s+=n}}}},data1:function(e){S()().subtract(2,"weeks").format("YYYY-MM-DD HH:mm:ss"),S()().subtract(1,"weeks").format("YYYY-MM-DD HH:mm:ss"),S()().format("YYYY-MM-DD HH:mm:ss");return{labels:Kt,datasets:[{label:"PM2.5 ",data:Vt},{label:"PM10 ",data:ta}]}},data2:function(e){S()().subtract(2,"months").format("YYYY-MM-DD HH:mm:ss"),S()().subtract(1,"months").format("YYYY-MM-DD HH:mm:ss"),S()().format("YYYY-MM-DD HH:mm:ss");return{labels:Kt,datasets:[{label:"PM2.5  ",data:Vt},{label:"PM10  ",data:ta}]}}},Sa=function(e){for(var t=e.length,a=1/0;t--;)Number(e[t])<a&&(a=Number(e[t]));return a},Na=function(e){for(var t=e.length,a=-1/0;t--;)Number(e[t])>a&&(a=Number(e[t]));return a},wa=function(){f()("sensor/pm25/"+O).then((function(e){Ge(e.data[0].pm25),$e(e.data[0].timeat.split("T")[0]+" "+e.data[0].timeat.split("T")[1].split(".")[0]),nt(e.data[0].pm10)})).catch((function(e){console.error("Error fetching data:",e),Bt()})).finally((function(){_t(!1)}))},ka=function(){var e=[],t=[],a=[];if(1===k)f()("sensor/week/"+O).then((function(n){var s,c=Object(h.a)(n.data);try{for(c.s();!(s=c.n()).done;){var r=s.value;e.push(r.pm25),t.push(r.pm10),a.push(r.timeat.split("T")[0]+" "+r.timeat.split("T")[1].split(".")[0])}}catch(o){c.e(o)}finally{c.f()}})).catch((function(e){console.error("Error fetching data:",e),Bt()})).finally((function(){_t(!1)}));else{S()().subtract(1,"months").format("YYYY-MM-DD"),S()().format("YYYY-MM-DD");f()("sensor/month/"+O).then((function(n){var s,c=Object(h.a)(n.data);try{for(c.s();!(s=c.n()).done;){var r=s.value;e.push(r.pm25),t.push(r.pm10),a.push(r.timeat.split("T")[0]+" "+r.timeat.split("T")[1].split(".")[0])}}catch(o){c.e(o)}finally{c.f()}})).catch((function(e){console.error("Error fetching data:",e),Bt()})).finally((function(){_t(!1)}))}Qt(e),aa(t),Xt(a)},Da=function(){ra(!0);var e=Object(x.a)(r[0],"yyyy-MM-dd'T'HH:mm:ss"),t=Object(x.a)(r[1],"yyyy-MM-dd'T'HH:mm:ss");f()("sensors/"+O+"/"+[e,t]).then((function(e){mt(e.data)})).catch((function(e){console.error("Error fetching data:",e),Bt()})).finally((function(){_t(!1),ra(!1)})),f()("sensor/all/"+[e,t]).then((function(e){pt(e.data)})).catch((function(e){console.error("Error fetching data:",e),Bt()})).finally((function(){console.log("custom",xt),_t(!1)}))},Ca=function(){var e=Object(x.a)(r[0],"yyyy-MM-dd'T'HH:mm:ss"),t=Object(x.a)(r[1],"yyyy-MM-dd'T'HH:mm:ss");f()("cp/"+O+"/"+[e,t]).then((function(e){mt(e.data)})).catch((function(e){console.error("Error fetching data:",e),Bt()})).finally((function(){_t(!1)}))},Ma=function(e,t,a,n,s){return Math.round((e-t)*(s-n)/a-t+n)},Ta=function(e){return e>430.5?Ma(e,431,500,401,500):e>350.5?Ma(e,351,430,301,400):e>250.5?Ma(e,251,350,201,300):e>100.5?Ma(e,101,250,101,200):e>50.5?Ma(e,51,100,51,100):e>.5?Ma(e,1,50,1,50):0},La=function(){var e=[],t=[],a=[];f()("sensor/bar/"+O).then((function(n){var s,c,r=Object(h.a)(n.data.reverse());try{for(r.s();!(s=r.n()).done;){var o=s.value;e.push((c=o["avg(pm25)"])>250.5?Ma(c,251,500,401,500):c>120.5?Ma(c,121,250,301,400):c>90.5?Ma(c,91,120,201,300):c>60.5?Ma(c,61,90,101,200):c>30.5?Ma(c,31,60,51,100):c>.5?Ma(c,1,30,1,50):0),t.push(Ta(o["avg(pm10)"])),a.push(o.timeat.split("T")[0]+" "+o.timeat.split("T")[1].split(".")[0])}}catch(i){r.e(i)}finally{r.f()}ja([{data:e}]),ha([{data:t}]),kt(Sa(e)),Tt(Na(e)),Et(Sa(t)),Ht(Na(t)),xa({chart:{toolbar:{show:!1},height:100,type:"bar",events:{click:function(e,t,a){}}},fill:{colors:[function(e){var t=e.value;e.seriesIndex,e.w;return t<51?"#00e400":t>=51&&t<101?"#FFFF00":t>=101&&t<151?"#ff7e00":t>=151&&t<201?"#ff0000":t>=201&&t<301?"#8f3f97":t>=301&&t<501?"#7e0023":void 0}]},plotOptions:{bar:{columnWidth:"80%",distributed:!0}},dataLabels:{enabled:!1},legend:{show:!1},xaxis:{categories:a,labels:{show:!1,style:{colors:["#000"],fontSize:"12px"}}},yaxis:{labels:{show:!1}}})})).catch((function(e){console.error("Error fetching data:",e),Bt()})).finally((function(){_t(!1)}))};window.Chart&&Object(ie.parseOptions)(v.a,Object(ie.chartOptions)());var Aa=function(e,t){e.preventDefault(),ot(t),wa(),dt("data"+t)};s.a.useEffect((function(){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,i.current.scrollTop=0}),[l]);Object(n.useEffect)((function(){var t=setInterval((function(){!function(){var t={token:F(),user:P()};f.a.post("verifyFtoken/",t).then((function(e){})).catch((function(t){H(),ga({topic:["zone_1/"],qos:0}),va(),e.history.push("/auth")})).finally((function(){_t(!1)}))}()}),6e4);return function(){clearInterval(t),ga({topic:["zone_1/"],qos:0}),va()}}),[]),Object(n.useEffect)((function(){"zone_1/"===V.topic&&$(V.message.split(",")),"sensor2/"===V.topic&&ne(V.message.split(",")),"sensor3/"===V.topic&&je(V.message.split(",")),"sensor4/"===V.topic&&he(V.message.split(",")),"sensor5/"===V.topic&&xe(V.message.split(",")),"sensor6/"===V.topic&&ye(V.message.split(",")),"sensor7/"===V.topic&&ke(V.message.split(",")),"sensor8/"===V.topic&&Te(V.message.split(",")),"sensor9/"===V.topic&&Ee(V.message.split(",")),"sensor10/"===V.topic&&He(V.message.split(",")),"sensor11/"===V.topic&&qe(V.message.split(",")),"sensor12/"===V.topic&&Ue(V.message.split(","))}),[V]),Object(n.useEffect)((function(){T&&(T.on("connect",(function(){I("Connected"),function(e){if(T){var t=e.topic,a=e.qos;T.subscribe(t,{qos:a},(function(e){e?console.log("Subscribe to topics error",e):(console.log(t+" Subscribed !"),R(!0))}))}}({topic:["zone_1/","sensor2/","sensor3/","sensor4/","sensor5/","sensor6/","sensor7/","sensor8/","sensor9/","sensor10/","sensor11/","sensor12/"],qos:0})})),T.on("error",(function(e){console.error("Connection error: ",e),T.end()})),T.on("reconnect",(function(){I("Reconnecting")})),T.on("message",(function(e,t){var a={topic:e,message:t.toString()};Q(a)})))}),[T]);var Ya;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Z,Object(u.a)(Object(u.a)({},e),{},{routes:oe,logo:{innerLink:"/admin/overview",imgSrc:a(63).default,imgAlt:"..."}})),Object(z.jsxs)("div",{className:"main-content",ref:i,children:[Object(z.jsx)(W,Object(u.a)(Object(u.a)({},e),{},{brandText:function(e){for(var t=0;t<oe.length;t++)if(-1!==e.indexOf(oe[t].layout+oe[t].path))return oe[t].name;return"Brand"}(e.location.pathname),chart:ka,toggleNavs:Aa,activeNav:rt,setInd:g,setPatt:D})),Object(z.jsxs)(b.d,{children:[(Ya=oe,Ya.map((function(e,t){return"/admin"===e.layout?Object(z.jsx)(b.b,{path:e.layout+e.path,render:function(t){return Object(z.jsx)(e.component,Object(u.a)(Object(u.a)({},t),{},{value:r,setValue:o,sensPm25:Vt,sensPm10:ta,activeNav:rt,toggleNavs:Aa,ind:O,setInd:g,patt:k,setPatt:D,chart:ka,pm25Live:wa,live25:Ze,live10:at,table:Da,table2:Ca,data:ht,data2:xt,data4:yt,bar:La,options:fa,series1:la,pm25Min:wt,pm25Max:Mt,pm10Min:Yt,pm10Max:It,mqttConnect:pa,connectStatus:E,series2:ua,chartExample1:ya,chartExample1Data:jt,isLoading:ca,sensData1:X,sensData2:ae,sensData3:re,sensData4:ue,sensData5:fe,sensData6:ve,sensData7:we,sensData8:Me,sensData9:Ye,sensData10:Ie,sensData11:_e,sensData12:Je}))}},t):null}))),Object(z.jsx)(b.a,{from:"*",to:"/admin/overview"})]}),Object(z.jsx)(p.a,{fluid:!0,children:Object(z.jsx)(J,{})})]})]})},de=function(){var e=Object(n.useState)(),t=Object(m.a)(e,2),s=t[0],c=t[1],r=function(){c(!1)};return Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(k.a,{className:"navbar-top navbar-horizontal navbar-dark",expand:"md",children:Object(z.jsxs)(p.a,{className:"px-4",children:[Object(z.jsxs)(U.a,{to:"/",tag:d.b,children:[Object(z.jsx)("img",{alt:"...",src:a(63).default}),Object(z.jsx)("span",{children:" SAS Automation"})]}),Object(z.jsx)("button",{className:"navbar-toggler",onClick:function(){c((function(e){return!e}))},children:Object(z.jsx)("span",{className:"navbar-toggler-icon"})}),Object(z.jsxs)(V.a,{navbar:!0,isOpen:s,children:[Object(z.jsx)("div",{className:"navbar-collapse-header d-md-none",children:Object(z.jsxs)(_.a,{children:[Object(z.jsx)(q.a,{className:"collapse-brand",xs:"6",children:Object(z.jsxs)(d.b,{to:"/",children:[Object(z.jsx)("img",{alt:"...",src:a(63).default}),"\xa0\xa0",Object(z.jsx)("span",{children:"SAS"})]})}),Object(z.jsx)(q.a,{className:"collapse-close",xs:"6",children:Object(z.jsxs)("button",{className:"navbar-toggler",onClick:r,children:[Object(z.jsx)("span",{}),Object(z.jsx)("span",{})]})})]})}),Object(z.jsx)(M.a,{className:"ml-auto",navbar:!0,children:Object(z.jsx)(R.a,{children:Object(z.jsxs)(B.a,{className:"nav-link-icon",to:"/auth/login",tag:d.b,onClick:r,children:[Object(z.jsx)("i",{className:"ni ni-key-25"}),Object(z.jsx)("span",{className:"nav-link-inner--text",children:"Login"})]})})})]})]})})})},be=function(){return Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("footer",{className:"py-5 bg-dark",children:Object(z.jsx)(p.a,{className:"bg-dark",children:Object(z.jsxs)(_.a,{className:"align-items-center justify-content-xl-between",children:[Object(z.jsx)(q.a,{xl:"6",children:Object(z.jsxs)("div",{className:"copyright text-center text-xl-left text-muted",children:["\xa9 ",(new Date).getFullYear()," ",Object(z.jsx)("a",{className:"font-weight-bold ml-1",href:"https://www.sasnextgen.co.in",target:"_blank",children:"SAS Automation Pvt. Ltd."})]})}),Object(z.jsx)(q.a,{xl:"6",children:Object(z.jsxs)(M.a,{className:"nav-footer justify-content-center justify-content-xl-end",children:[Object(z.jsx)(R.a,{children:Object(z.jsx)(B.a,{href:"https://www.sasnextgen.co.in",target:"_blank",children:"SAS Automation Pvt. Ltd."})}),Object(z.jsx)(R.a,{children:Object(z.jsx)(B.a,{href:"https://www.sasnextgen.co.in",target:"_blank",children:"About Us"})})]})})]})})})})},ue=function(e){var t=s.a.useRef(null),a=Object(b.g)();s.a.useEffect((function(){return document.body.classList.add("bg-default"),function(){document.body.classList.remove("bg-default")}}),[]),s.a.useEffect((function(){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,t.current.scrollTop=0}),[a]);var n;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:"main-content",ref:t,children:[Object(z.jsx)(de,{}),Object(z.jsxs)("div",{className:"header bg-gradient-info py-7 py-lg-8",children:[Object(z.jsx)(p.a,{children:Object(z.jsx)("div",{className:"header-body text-center mb-7",children:Object(z.jsx)(_.a,{className:"justify-content-center",children:Object(z.jsx)(q.a,{lg:"5",md:"6",children:Object(z.jsx)("h1",{className:"text-white",children:"Welcome!"})})})})}),Object(z.jsx)("div",{className:"separator separator-bottom separator-skew zindex-100",children:Object(z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 2560 100",x:"0",y:"0",children:Object(z.jsx)("polygon",{className:"fill-default",points:"2560 0 2560 100 0 100"})})})]}),Object(z.jsx)(p.a,{className:"mt--8 pb-5",children:Object(z.jsx)(_.a,{className:"justify-content-center",children:Object(z.jsxs)(b.d,{children:[(n=oe,n.map((function(e,t){return"/auth"===e.layout?Object(z.jsx)(b.b,{path:e.layout+e.path,component:e.component},t):null}))),Object(z.jsx)(b.a,{from:"*",to:"/auth/login"})]})})})]}),Object(z.jsx)(be,{})]})},he=a(47),me=function(e){var t=e.component,a=Object(he.a)(e,["component"]);return Object(z.jsx)(b.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return F()?Object(z.jsx)(b.a,{to:"/admin/index"}):Object(z.jsx)(t,Object(u.a)({},e))}}))},Oe=function(e){var t=e.component,a=Object(he.a)(e,["component"]);return Object(z.jsx)(b.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return F()?Object(z.jsx)(t,Object(u.a)({},e)):Object(z.jsx)(b.a,{to:{pathname:"/auth",state:{from:e.location}}})}}))},fe=(a(252),function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={authLoading:!0},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=F();t&&f.a.get("verifyToken?token=".concat(t)).then((function(t){e.setState({authLoading:!1})})).catch((function(t){H(),e.setState({authLoading:!1})}))}},{key:"render",value:function(){return Object(z.jsx)(d.a,{children:Object(z.jsxs)(b.d,{children:[Object(z.jsx)(Oe,{path:"/admin",component:je}),Object(z.jsx)(me,{path:"/auth",component:ue}),Object(z.jsx)(b.a,{from:"/",to:"/auth/login"})]})})}}]),a}(n.Component));f.a.defaults.baseURL="http://89.47.165.123:8000/",r.a.render(Object(z.jsx)(fe,{}),document.getElementById("root"))},63:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/sas.4ba00c36.png"},71:function(e,t,a){var n=a(64);n.elements.Rectangle.prototype.draw=function(){var e,t,a,n,s,c,r,o=this._chart.ctx,i=this._view,l=i.borderWidth;if(i.horizontal?(e=i.base,t=i.x,a=i.y-i.height/2,n=i.y+i.height/2,s=t>e?1:-1,c=1,r=i.borderSkipped||"left"):(e=i.x-i.width/2,t=i.x+i.width/2,a=i.y,s=1,c=(n=i.base)>a?1:-1,r=i.borderSkipped||"bottom"),l){var j=Math.min(Math.abs(e-t),Math.abs(a-n)),d=(l=l>j?j:l)/2,b=e+("left"!==r?d*s:0),u=t+("right"!==r?-d*s:0),h=a+("top"!==r?d*c:0),m=n+("bottom"!==r?-d*c:0);b!==u&&(a=h,n=m),h!==m&&(e=b,t=u)}o.beginPath(),o.fillStyle=i.backgroundColor,o.strokeStyle=i.borderColor,o.lineWidth=l;var O=[[e,n],[e,a],[t,a],[t,n]],f=["bottom","left","top","right"].indexOf(r,0);function x(e){return O[(f+e)%4]}-1===f&&(f=0);var p=x(0);o.moveTo(p[0],p[1]);for(var g=1;g<4;g++){p=x(g);var v=g+1;4===v&&(v=0);var y,S=O[2][0]-O[1][0],N=O[0][1]-O[1][1],w=O[1][0],k=O[1][1];(y=6)>N/2&&(y=N/2),y>S/2&&(y=S/2),o.moveTo(w+y,k),o.lineTo(w+S-y,k),o.quadraticCurveTo(w+S,k,w+S,k+y),o.lineTo(w+S,k+N-y),o.quadraticCurveTo(w+S,k+N,w+S-y,k+N),o.lineTo(w+y,k+N),o.quadraticCurveTo(w,k+N,w,k+N-y),o.lineTo(w,k+y),o.quadraticCurveTo(w,k,w+y,k)}o.fill(),l&&o.stroke()};var s="Open Sans",c={100:"#f6f9fc",200:"#e9ecef",300:"#dee2e6",400:"#ced4da",500:"#adb5bd",600:"#8898aa",700:"#525f7f",800:"#32325d",900:"#212529"},r={default:"#172b4d",primary:"#5e72e4",secondary:"#f4f5f7",info:"#11cdef",success:"#2dce89",danger:"#f5365c",warning:"#fb6340"},o="#FFFFFF",i="transparent";var l={options:{scales:{yAxes:[{gridLines:{color:c[900],zeroLineColor:c[900]},ticks:{callback:function(e){if(!(e%10))return e+" ug/m3"}}}]},tooltips:{callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label||"",n=e.yLabel,s="";return t.datasets.length>1&&(s+=a),s+=n+" ug/m3"}}}},data1:function(e){return{labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[0,20,10,30,15,40,20,60,60]}]}},data2:function(e){return{labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[0,20,5,25,10,30,15,40,40]}]}}};e.exports={chartOptions:function(){var e={defaults:{global:{responsive:!0,maintainAspectRatio:!1,defaultColor:c[600],defaultFontColor:c[600],defaultFontFamily:s,defaultFontSize:13,layout:{padding:0},legend:{display:!1,position:"bottom",labels:{usePointStyle:!0,padding:16}},elements:{point:{radius:0,backgroundColor:r.primary},line:{tension:.4,borderWidth:4,borderColor:r.primary,backgroundColor:i,borderCapStyle:"rounded"},rectangle:{backgroundColor:r.warning},arc:{backgroundColor:r.primary,borderColor:o,borderWidth:4}},tooltips:{enabled:!0,mode:"index",intersect:!1}},doughnut:{cutoutPercentage:83,legendCallback:function(e){var t=e.data,a="";return t.labels.forEach((function(e,n){var s=t.datasets[0].backgroundColor[n];a+='<span class="chart-legend-item">',a+='<i class="chart-legend-indicator" style="background-color: '+s+'"></i>',a+=e,a+="</span>"})),a}}}};return n.scaleService.updateScaleDefaults("linear",{gridLines:{borderDash:[2],borderDashOffset:[2],color:c[300],drawBorder:!1,drawTicks:!1,lineWidth:0,zeroLineWidth:0,zeroLineColor:c[300],zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{beginAtZero:!0,padding:10,callback:function(e){if(!(e%10))return e}}}),n.scaleService.updateScaleDefaults("category",{gridLines:{drawBorder:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{padding:20}}),e},parseOptions:function e(t,a){for(var n in a)"object"!==typeof a[n]?t[n]=a[n]:e(t[n],a[n])},chartExample1:l,chartExample2:{options:{scales:{yAxes:[{ticks:{callback:function(e){if(!(e%10))return e}}}]},tooltips:{callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label||"",n=e.yLabel,s="";return t.datasets.length>1&&(s+=a),s+=n}}}},data:{labels:["Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Sales",data:[25,20,30,22,17,29],maxBarThickness:10}]}}}}},[[253,1,2]]]);
//# sourceMappingURL=main.a36fe22d.chunk.js.map